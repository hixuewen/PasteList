# PasteList 产品需求文档

## 文档信息

| 项目 | 内容 |
|------|------|
| 文档名称 | PasteList 产品需求文档 |
| 版本 | v1.0.0 |
| 编写日期 | 2025-11-30 |
| 项目类型 | 桌面应用程序 |
| 目标平台 | Windows 10/11 (x64) |
| 开发技术 | .NET 8.0 + WPF |

## 1. 产品概述

### 1.1 产品背景

在日常工作中，用户经常需要频繁复制和粘贴各种内容，包括文本、链接、代码片段等。Windows 系统自带的剪贴板功能非常基础，只能保存最近一次复制的内容，无法满足用户对历史记录管理、快速搜索和跨设备同步的需求。

PasteList 旨在解决这一痛点，为用户提供一个功能强大、设计精美的剪贴板历史记录管理工具，帮助用户更高效地管理和使用剪贴板内容。

### 1.2 产品定位

PasteList 是一款基于 .NET 8.0 和 WPF 开发的剪贴板历史记录管理工具，采用 MVVM 架构模式，为用户提供高效、安全、便捷的剪贴板管理体验。

### 1.3 目标用户

- 程序员和开发者：频繁复制代码片段、命令行指令
- 文案工作者：频繁复制文本内容、链接
- 设计师：复制设计元素、颜色代码
- 日常电脑用户：需要管理大量复制内容的普通用户

### 1.4 产品愿景

成为 Windows 平台上最受欢迎的剪贴板管理工具，为用户提供极致的剪贴板管理体验，提高工作效率。

## 2. 核心功能需求

### 2.1 剪贴板监听与记录

| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 实时监听 | 自动捕获系统剪贴板内容变化 | 高 |
| 防重复机制 | 智能过滤重复内容，避免冗余记录 | 中 |
| 多格式支持 | 支持文本内容，可扩展至图片、文件等格式 | 中 |
| 内容预览 | 提供剪贴板内容的预览功能 | 低 |

### 2.2 历史记录管理

| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 列表展示 | 以列表形式展示剪贴板历史记录 | 高 |
| 实时搜索 | 支持即时搜索历史记录，快速定位内容 | 高 |
| 分页加载 | 高效的数据加载机制，支持大量历史记录 | 中 |
| 手动添加 | 允许用户手动添加剪贴板记录 | 低 |

### 2.3 智能粘贴功能

| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 双击粘贴 | 双击历史记录项自动粘贴到之前活动窗口 | 高 |
| 窗口切换 | 智能记忆并切换到之前的活动应用程序 | 高 |
| 键盘模拟 | 使用 Windows API 实现精准的 Ctrl+V 粘贴操作 | 高 |
| 右键粘贴 | 支持右键菜单粘贴选项 | 中 |

### 2.4 系统集成

| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 全局快捷键 | 支持自定义全局快捷键快速显示/隐藏主窗口 | 高 |
| 系统托盘 | 最小化到托盘，不占用任务栏空间 | 高 |
| 开机启动 | 支持开机自动启动，随时待命 | 中 |
| 托盘菜单 | 提供便捷的托盘右键菜单操作 | 中 |

### 2.5 数据管理

| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 本地存储 | 使用 SQLite 数据库进行本地存储 | 高 |
| 数据备份 | 支持手动和自动数据备份功能 | 中 |
| 数据恢复 | 支持从备份文件恢复数据 | 中 |
| 数据清理 | 支持按时间、大小等条件清理历史记录 | 中 |

### 2.6 跨设备同步

| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 用户认证 | 支持用户注册、登录和身份验证 | 高 |
| 数据同步 | 支持剪贴板数据在多设备间同步 | 高 |
| 双向同步 | 实现客户端与服务器的双向数据同步 | 高 |
| 冲突处理 | 智能处理数据同步冲突 | 中 |

### 2.7 设置与配置

| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 常规设置 | 提供应用程序常规设置选项 | 中 |
| 快捷键设置 | 支持自定义各种操作的快捷键 | 中 |
| 外观设置 | 支持主题切换、界面自定义 | 低 |
| 同步设置 | 提供同步频率、数据范围等设置 | 中 |

## 3. 非功能需求

### 3.1 性能需求

| 需求点 | 描述 | 优先级 |
|--------|------|--------|
| 启动时间 | 应用程序启动时间不超过 2 秒 | 高 |
| 响应速度 | 界面操作响应时间不超过 0.5 秒 | 高 |
| 内存占用 | 空闲状态下内存占用不超过 100MB | 中 |
| CPU 占用 | 正常运行时 CPU 占用率不超过 5% | 中 |
| 数据处理 | 支持处理至少 10,000 条历史记录 | 高 |

### 3.2 安全性需求

| 需求点 | 描述 | 优先级 |
|--------|------|--------|
| 数据加密 | 本地数据库内容加密存储 | 中 |
| 网络安全 | 所有网络通信采用 HTTPS 加密 | 高 |
| 认证安全 | 使用 JWT 进行身份验证，支持令牌刷新机制 | 高 |
| 密码安全 | 密码采用 BCrypt 或 Argon2 进行哈希存储 | 高 |
| 隐私保护 | 本地数据不自动上传，用户可选择同步范围 | 高 |

### 3.3 可靠性需求

| 需求点 | 描述 | 优先级 |
|--------|------|--------|
| 稳定性 | 应用程序连续运行 7 天无崩溃 | 高 |
| 容错性 | 对异常情况（如磁盘空间不足、网络中断）有良好的容错处理 | 高 |
| 数据完整性 | 确保剪贴板数据不丢失、不损坏 | 高 |
| 恢复能力 | 支持从崩溃中恢复，不丢失数据 | 中 |

### 3.4 可用性需求

| 需求点 | 描述 | 优先级 |
|--------|------|--------|
| 易用性 | 界面简洁直观，操作简单明了，新用户无需培训即可上手 | 高 |
| 可访问性 | 支持键盘导航，符合 Windows 可访问性标准 | 中 |
| 帮助文档 | 提供详细的使用帮助和快捷键说明 | 低 |
| 错误提示 | 提供清晰、友好的错误提示信息 | 高 |

### 3.5 可扩展性需求

| 需求点 | 描述 | 优先级 |
|--------|------|--------|
| 插件架构 | 支持通过插件扩展功能（如支持更多格式） | 低 |
| API 设计 | 提供清晰的 API 接口，便于后续功能扩展 | 中 |
| 模块化设计 | 采用模块化设计，便于维护和扩展 | 高 |

## 4. 用户故事

### 4.1 基础功能用户故事

| 用户角色 | 场景描述 | 期望结果 |
|----------|----------|----------|
| 程序员 | 我经常需要复制代码片段，希望能保存历史记录以便复用 | 能够查看和搜索历史代码片段，双击即可粘贴 |
| 文案工作者 | 我需要复制多个不同的文本内容，希望能快速切换 | 能够在历史记录中快速找到并粘贴需要的内容 |
| 日常用户 | 我希望能快速查看最近复制的内容 | 能够通过快捷键快速调出剪贴板历史记录 |

### 4.2 高级功能用户故事

| 用户角色 | 场景描述 | 期望结果 |
|----------|----------|----------|
| 多设备用户 | 我在办公室电脑复制的内容，希望能在回家后的电脑上使用 | 剪贴板内容能够自动同步到所有设备 |
| 频繁搜索用户 | 我需要查找之前复制的某个特定内容 | 能够通过关键词快速搜索到需要的内容 |
| 注重隐私用户 | 我希望能控制哪些内容被保存和同步 | 能够设置过滤规则，选择同步范围 |

## 5. 界面原型参考

### 5.1 主界面

- **布局**: 顶部搜索栏 + 中间历史记录列表 + 底部状态栏
- **搜索栏**: 实时搜索输入框，支持快捷键激活
- **历史记录列表**: 显示内容预览、创建时间、设备信息（同步时）
- **状态栏**: 显示应用状态、记录数量、同步状态

### 5.2 系统托盘

- **左键点击**: 显示/隐藏主窗口
- **右键菜单**: 显示窗口、开机启动、设置、退出

### 5.3 设置界面

- **常规设置**: 开机启动、监听开关、防重复设置
- **快捷键设置**: 全局快捷键、操作快捷键自定义
- **外观设置**: 主题切换、界面大小调整
- **同步设置**: 账户管理、同步频率、数据范围
- **数据管理**: 备份、恢复、清理历史记录

## 6. 数据模型设计

### 6.1 本地数据模型

#### 6.1.1 ClipboardItem（剪贴板项）

| 字段名 | 类型 | 描述 |
|--------|------|------|
| Id | int | 主键，自增 |
| Content | string | 剪贴板内容 |
| CreatedAt | DateTime | 创建时间 |
| UpdatedAt | DateTime | 更新时间 |
| IsFavorite | bool | 是否收藏 |
| SourceApp | string | 来源应用程序 |
| ContentType | string | 内容类型（文本、图片、文件等） |

#### 6.1.2 AppSettings（应用设置）

| 字段名 | 类型 | 描述 |
|--------|------|------|
| Key | string | 设置键 |
| Value | string | 设置值 |
| Type | string | 值类型（bool、int、string等） |

### 6.2 云端数据模型

#### 6.2.1 User（用户）

| 字段名 | 类型 | 描述 |
|--------|------|------|
| Id | int | 用户ID |
| Username | string | 用户名 |
| Email | string | 邮箱 |
| CreatedAt | DateTime | 创建时间 |
| UpdatedAt | DateTime | 更新时间 |
| LastLoginAt | DateTime | 最后登录时间 |

#### 6.2.2 ClipboardItem（剪贴板项）

| 字段名 | 类型 | 描述 |
|--------|------|------|
| Id | int | 剪贴板项ID |
| Content | string | 内容 |
| UserId | int | 用户ID |
| DeviceId | string | 设备ID |
| CreatedAt | DateTime | 创建时间 |
| UpdatedAt | DateTime | 更新时间 |

#### 6.2.3 Device（设备）

| 字段名 | 类型 | 描述 |
|--------|------|------|
| DeviceId | string | 设备唯一标识 |
| DeviceName | string | 设备名称 |
| DeviceType | string | 设备类型（desktop/mobile/tablet） |
| Platform | string | 操作系统平台 |
| LastActiveAt | DateTime | 最后活跃时间 |
| CreatedAt | DateTime | 创建时间 |

## 7. 技术实现约束

### 7.1 开发环境

- **IDE**: Visual Studio 2022 或 Visual Studio Code
- **SDK**: .NET 8.0 SDK
- **数据库**: SQLite（本地）、MongoDB/MySQL（云端）

### 7.2 架构设计

- **客户端**: 采用 MVVM 架构模式
- **服务端**: 采用 RESTful API 设计
- **通信**: 使用 HTTPS 协议，JSON 数据格式
- **认证**: JWT Bearer Token 认证机制

### 7.3 第三方依赖

| 依赖名称 | 用途 | 版本 |
|----------|------|------|
| Entity Framework Core | ORM 框架 | 9.0.8 |
| Hardcodet.NotifyIcon.Wpf | 系统托盘组件 | 最新稳定版 |
| Newtonsoft.Json | JSON 序列化 | 最新稳定版 |

### 7.4 性能优化

- 采用分页加载机制，避免一次性加载大量数据
- 使用异步编程模型，提高应用响应速度
- 实现智能缓存策略，减少数据库查询次数
- 采用增量同步机制，减少网络传输数据量

## 8. 验收标准

### 8.1 功能验收

| 功能点 | 验收标准 |
|--------|----------|
| 剪贴板监听 | 复制内容后，历史记录列表中立即显示新内容 |
| 防重复机制 | 连续复制相同内容，历史记录中只保留一条 |
| 实时搜索 | 输入关键词后，列表立即过滤显示匹配内容 |
| 双击粘贴 | 双击历史记录项，内容自动粘贴到之前活动窗口 |
| 全局快捷键 | 按下 Alt+Z 能快速显示/隐藏主窗口 |
| 系统托盘 | 关闭窗口后，应用程序最小化到系统托盘 |
| 开机启动 | 勾选开机启动后，重启电脑自动运行应用 |
| 数据同步 | 在一台设备复制内容，另一台设备能同步获取 |

### 8.2 性能验收

| 性能指标 | 验收标准 |
|----------|----------|
| 启动时间 | 从点击图标到主窗口显示不超过 2 秒 |
| 响应速度 | 搜索、双击粘贴等操作响应时间不超过 0.5 秒 |
| 内存占用 | 空闲状态下内存占用不超过 100MB |
| 数据处理 | 能正常处理 10,000 条历史记录 |

### 8.3 可靠性验收

| 可靠性指标 | 验收标准 |
|------------|----------|
| 稳定性 | 连续运行 7 天无崩溃 |
| 容错性 | 网络中断后恢复，能正常重新同步 |
| 数据完整性 | 异常退出后，重新启动数据不丢失 |

### 8.4 可用性验收

| 可用性指标 | 验收标准 |
|------------|----------|
| 易用性 | 新用户能在 5 分钟内掌握基本操作 |
| 错误提示 | 操作错误时，显示清晰友好的提示信息 |
| 可访问性 | 支持键盘导航，符合 Windows 可访问性标准 |

## 9. 风险评估

| 风险点 | 影响 | 应对措施 |
|--------|------|----------|
| 系统兼容性问题 | 某些 Windows 版本可能存在兼容性问题 | 进行充分的测试，支持主流 Windows 版本 |
| 性能问题 | 大量历史记录可能导致应用卡顿 | 优化数据库查询，实现分页加载和智能缓存 |
| 数据安全问题 | 剪贴板内容可能包含敏感信息 | 实现本地加密存储，提供数据同步范围控制 |
| 网络同步问题 | 网络不稳定可能导致同步失败 | 实现增量同步和自动重试机制 |

## 10. 附录

### 10.1 术语定义

| 术语 | 解释 |
|------|------|
| MVVM | Model-View-ViewModel，一种软件架构模式 |
| JWT | JSON Web Token，一种用于身份验证的令牌格式 |
| SQLite | 一种轻量级嵌入式数据库 |
| RESTful API | 一种基于 HTTP 协议的 API 设计风格 |

### 10.2 参考文档

- [.NET 8.0 官方文档](https://docs.microsoft.com/zh-cn/dotnet/core/whats-new/dotnet-8)
- [WPF 官方文档](https://docs.microsoft.com/zh-cn/dotnet/desktop/wpf/)
- [Entity Framework Core 官方文档](https://docs.microsoft.com/zh-cn/ef/core/)
- [JSON Web Token 官方文档](https://jwt.io/introduction/)

### 10.3 联系方式

如有任何问题或建议，请联系项目团队：

- 项目负责人：[负责人姓名]
- 技术负责人：[技术负责人姓名]
- 邮箱：[项目邮箱]
- GitHub：[项目仓库地址]

---

**文档结束**