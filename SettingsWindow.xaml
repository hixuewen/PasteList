<Window x:Class="PasteList.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="è®¾ç½®" Height="850" Width="450"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        WindowStyle="SingleBorderWindow"
        ShowInTaskbar="False">
    <Window.Resources>
        <!-- Boolean to Visibility Converter -->
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- è®¾ç½®å†…å®¹åŒºåŸŸ -->
        <Border Grid.Row="0" Padding="20">
            <StackPanel>
                <!-- æ ‡é¢˜ -->
                <TextBlock Text="åº”ç”¨ç¨‹åºè®¾ç½®" FontSize="18" FontWeight="Bold" Margin="0,0,0,20"/>

                <!-- å¼€æœºå¯åŠ¨è®¾ç½® -->
                <CheckBox Content="å¼€æœºå¯åŠ¨"
                          IsChecked="{Binding IsStartupEnabled}"
                          Margin="0,10,0,0"
                          FontSize="13"/>

                <!-- åˆ†éš”çº¿ -->
                <Separator Margin="0,20,0,15" Background="#EEEEEE"/>

                <!-- åŒæ­¥è®¾ç½®æ ‡é¢˜ -->
                <TextBlock Text="åŒæ­¥è®¾ç½®" FontSize="14" FontWeight="SemiBold" Margin="0,0,0,10"/>

                <!-- å¯ç”¨åŒæ­¥ -->
                <CheckBox Content="å¯ç”¨è·¨è®¾å¤‡åŒæ­¥"
                          IsChecked="{Binding IsSyncEnabled}"
                          Margin="0,10,0,0"
                          FontSize="13"/>

                <!-- åŒæ­¥æ–¹å¼é€‰æ‹© -->
                <StackPanel Margin="0,10,0,0" IsEnabled="{Binding IsSyncEnabled}">
                    <TextBlock Text="åŒæ­¥æ–¹å¼:" FontSize="12" Margin="0,0,0,5" Foreground="#666666"/>
                    <ComboBox SelectedValue="{Binding SyncType}"
                              SelectedValuePath="Content"
                              FontSize="12"
                              Height="25"
                              Padding="5">
                        <ComboBoxItem Content="LocalFile" Tag="LocalFile"/>
                        <ComboBoxItem Content="OneDrive" Tag="OneDrive" IsEnabled="False"/>
                        <ComboBoxItem Content="Google Drive" Tag="GoogleDrive" IsEnabled="False"/>
                    </ComboBox>
                    <TextBlock Text="ç›®å‰ä»…æ”¯æŒæœ¬åœ°æ–‡ä»¶åŒæ­¥ï¼Œäº‘ç«¯åŒæ­¥åŠŸèƒ½å³å°†æŽ¨å‡ºã€‚"
                               FontSize="10"
                               Foreground="#999999"
                               Margin="0,5,0,0"
                               FontStyle="Italic"/>
                </StackPanel>

                <!-- LocalFile åŒæ­¥é…ç½® -->
                <StackPanel Margin="0,15,0,0"
                           IsEnabled="{Binding IsSyncEnabled}"
                           Visibility="{Binding IsLocalFileSyncType, Converter={StaticResource BoolToVisibilityConverter}}">

                    <!-- åˆ†éš”çº¿ -->
                    <Separator Margin="0,10,0,15" Background="#EEEEEE"/>

                    <!-- æ–‡ä»¶å¤¹é€‰æ‹© -->
                    <TextBlock Text="ðŸ“ åŒæ­¥æ–‡ä»¶å¤¹é…ç½®" FontSize="13" FontWeight="SemiBold" Margin="0,0,0,10"/>

                    <TextBlock Text="åŒæ­¥æ–‡ä»¶å¤¹:" FontSize="12" Margin="0,0,0,5" Foreground="#666666"/>
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0"
                                Text="{Binding LocalFileSyncConfig.SyncFolderPath}"
                                Height="25"
                                Padding="5"
                                IsReadOnly="True"/>
                        <Button Grid.Column="1"
                                Content="æµè§ˆ..."
                                Width="60"
                                Height="25"
                                Margin="5,0,0,0"
                                Command="{Binding BrowseFolderCommand}"/>
                    </Grid>

                    <!-- åŒæ­¥é—´éš” -->
                    <TextBlock Text="è‡ªåŠ¨åŒæ­¥é—´éš”:" FontSize="12" Margin="0,0,0,5" Foreground="#666666"/>
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Slider Grid.Column="0"
                                Minimum="1"
                                Maximum="60"
                                Value="{Binding LocalFileSyncConfig.SyncIntervalMinutes}"
                                TickFrequency="5"
                                IsSnapToTickEnabled="True"
                                Margin="0,0,10,0"/>
                        <TextBlock Grid.Column="1"
                                   Text="{Binding LocalFileSyncConfig.SyncIntervalMinutes, StringFormat={}{0} åˆ†é’Ÿ}"
                                   Width="60"
                                   TextAlignment="Center"
                                   VerticalAlignment="Center"
                                   FontSize="12"/>
                    </Grid>

                    <!-- åŒæ­¥é€‰é¡¹ -->
                    <CheckBox Content="å‰ªè´´æ¿å˜åŒ–æ—¶è‡ªåŠ¨åŒæ­¥"
                              IsChecked="{Binding LocalFileSyncConfig.AutoSyncOnClipboardChange}"
                              Margin="0,5,0,5"
                              FontSize="12"/>

                    <CheckBox Content="å¯ç”¨å†²çªæ£€æµ‹å’Œè§£å†³"
                              IsChecked="{Binding LocalFileSyncConfig.EnableConflictResolution}"
                              Margin="0,0,0,5"
                              FontSize="12"/>

                    <!-- å†²çªè§£å†³ç­–ç•¥ -->
                    <StackPanel Margin="0,5,0,10"
                                IsEnabled="{Binding LocalFileSyncConfig.EnableConflictResolution}">
                        <TextBlock Text="å†²çªè§£å†³ç­–ç•¥:" FontSize="12" Margin="0,0,0,5" Foreground="#666666"/>
                        <ComboBox SelectedValue="{Binding LocalFileSyncConfig.ConflictStrategy}"
                                  SelectedValuePath="Tag"
                                  FontSize="12"
                                  Height="25"
                                  Padding="5">
                            <ComboBoxItem Content="ä¿ç•™è¾ƒæ–°çš„ç‰ˆæœ¬" Tag="KeepNewer"/>
                            <ComboBoxItem Content="ä¿ç•™ä¸¤ä¸ªç‰ˆæœ¬" Tag="KeepBoth"/>
                            <ComboBoxItem Content="ä¿ç•™æœ¬åœ°ç‰ˆæœ¬" Tag="KeepLocal"/>
                            <ComboBoxItem Content="ä¿ç•™è¿œç¨‹ç‰ˆæœ¬" Tag="KeepRemote"/>
                        </ComboBox>
                    </StackPanel>

                    <!-- åŒæ­¥çŠ¶æ€ -->
                    <Border BorderBrush="#E8F5E9" Background="#F1F8E9" Padding="10" CornerRadius="4" Margin="0,10,0,0">
                        <StackPanel>
                            <TextBlock Text="ðŸ“Š å½“å‰çŠ¶æ€" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <TextBlock Text="{Binding SyncStatusText}" FontSize="10" Margin="0,0,0,3"/>
                            <TextBlock Text="{Binding LastSyncTimeText}" FontSize="10"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- åŒæ­¥è¯´æ˜Ž -->
                <Border BorderBrush="#E3F2FD" Background="#F8FBFF" Padding="10" CornerRadius="4" Margin="0,15,0,0">
                    <StackPanel>
                        <TextBlock Text="â„¹ï¸ å…³äºŽåŒæ­¥åŠŸèƒ½" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBlock Text="â€¢ æœ¬åœ°æ–‡ä»¶åŒæ­¥ï¼šå°†å‰ªè´´æ¿æ•°æ®åŒæ­¥åˆ°æŒ‡å®šæ–‡ä»¶å¤¹" FontSize="10" Margin="0,0,0,3"/>
                        <TextBlock Text="â€¢ æ•°æ®è‡ªåŠ¨åŠ å¯†å­˜å‚¨ï¼Œä¿æŠ¤éšç§å®‰å…¨" FontSize="10" Margin="0,0,0,3"/>
                        <TextBlock Text="â€¢ æ”¯æŒå¤šè®¾å¤‡é—´é€šè¿‡å…±äº«æ–‡ä»¶å¤¹åŒæ­¥æ•°æ®" FontSize="10"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Border>

        <!-- æŒ‰é’®åŒºåŸŸ -->
        <Border Grid.Row="1" Background="#F5F5F5" Padding="20">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="ç¡®å®š" Width="80" Height="30"
                        Click="SaveButton_Click"
                        Margin="0,0,10,0">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="#4CAF50"/>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="Cursor" Value="Hand"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                CornerRadius="3"
                                                SnapsToDevicePixels="True">
                                            <ContentPresenter HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#45A049"/>
                                            </Trigger>
                                            <Trigger Property="IsPressed" Value="True">
                                                <Setter Property="Background" Value="#388E3C"/>
                                            </Trigger>
                                            <Trigger Property="IsEnabled" Value="False">
                                                <Setter Property="Background" Value="#E0E0E0"/>
                                                <Setter Property="Foreground" Value="#666666"/>
                                                <Setter Property="Cursor" Value="Arrow"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>

                <Button Content="å–æ¶ˆ" Width="80" Height="30"
                        Click="CancelButton_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="#9E9E9E"/>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="Cursor" Value="Hand"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                CornerRadius="3"
                                                SnapsToDevicePixels="True">
                                            <ContentPresenter HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#757575"/>
                                            </Trigger>
                                            <Trigger Property="IsPressed" Value="True">
                                                <Setter Property="Background" Value="#616161"/>
                                            </Trigger>
                                            <Trigger Property="IsEnabled" Value="False">
                                                <Setter Property="Background" Value="#E0E0E0"/>
                                                <Setter Property="Foreground" Value="#666666"/>
                                                <Setter Property="Cursor" Value="Arrow"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
            </StackPanel>
        </Border>
    </Grid>
</Window>
